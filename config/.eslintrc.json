{
  "root": true,
  "extends": [
    "sanity",
    "sanity/typescript"
  ],
  "plugins": [
    "sonarjs",
    "complexity"
  ],
  "parserOptions": {
    "ecmaVersion": 2020,
    "sourceType": "module"
  },
  "env": {
    "node": true,
    "es6": true
  },
  "rules": {
    "complexity": ["error", 10],
    "sonarjs/cognitive-complexity": ["error", 10],
    
    // Temporary relaxed rules for transition period
    "@typescript-eslint/no-explicit-any": "error",
    "max-len": ["error", { "code": 120 }],
    "brace-style": "error"
  },
  "overrides": [
    {
      "files": ["src/index.ts", "usage-example.ts"],
      "rules": {
        "no-console": "off" // Entry points may need console output
      }
    },
    {
      "files": ["src/config/config.ts", "src/utils/sanityClient.ts"],
      "rules": {
        "no-console": "off" // Config and client setup may need console logging
      }
    },
    {
      "files": ["src/types/**/*.ts"],
      "rules": {
        "@typescript-eslint/no-explicit-any": "off", // Type definitions sometimes need 'any'
        "@typescript-eslint/no-unused-vars": "off" // Type definitions may include unused vars
      }
    },
    {
      "files": ["test/**/*.ts", "test/**/*.js"],
      "rules": {
        "complexity": "off", // Tests often need complex scenarios
        "sonarjs/cognitive-complexity": "off", // Tests may need complex assertions
        "no-console": "off", // Tests may need console output for diagnostics
        "@typescript-eslint/no-explicit-any": "off", // Tests often use 'any' for mocks
        "sonarjs/no-duplicate-string": "off", // Test data often has repeated strings
        "@typescript-eslint/no-empty-function": "off", // Mock functions are often empty
        "@typescript-eslint/no-unused-vars": "warn", // Keep as warning to catch potential issues
        "max-lines-per-function": "off", // Tests can be longer due to setup/teardown
        "no-unused-expressions": "off" // Chai assertions use unused expressions
      }
    },
    {
      "files": ["dist/**/*.d.ts"],
      "rules": {
        "sonarjs/cognitive-complexity": "off" // Generated declaration files can be complex
      }
    }
  ]
}
